<div class="container">
  <!-- Form start -->
  <form class="form-horizontal" role="form">
    <div class="form-group">
      <label for="stepTitle" class="col-sm-1 control-label">Title</label>

      <div class="col-sm-9">
        <input ng-model="currentStep.title" type="text" class="form-control" id="stepTitle" placeholder="Title">
      </div>
    </div>

    <div class="form-group">
      <div class="btn-group col-sm-offset-8 col-sm-2">
        <button ng-class="{'btn-primary': showMonteCarlo}" class="btn" ng-click="showMonteCarlo = true">Monte Carlo
        </button>
        <button ng-class="{'btn-primary': !showMonteCarlo}" class="btn" ng-click="showMonteCarlo = false">Data</button>
      </div>
    </div>

    <div ng-show="showMonteCarlo">

      <div class="form-group">
        <button class="btn btn-info col-sm-2 " ng-click="addBlob()"><i class="fa fa-plus-square-o fa-lg"></i> Add blob
        </button>

        <div ng-model="currentStep.blobs"
             id="added-steps-list"
             ng-show="currentStep.blobs.length"
             class="list-group col-sm-offset-4 col-sm-4">
          <a class="list-group-item active">Predefined blobs added</a>

          <div drag-and-drop-list="currentStep.blobs">
            <div ng-repeat="blob in currentStep.blobs" class="list-group-item step">
              <span>{{$index+1}}. {{ blob.title}}</span>

              <div class="pull-right">
                <i ng-click="showBlobDetails($index)" class="fa fa-list-alt fa-lg"></i>
                <i ng-click="removeBlob($index)" class="fa fa-times fa-lg"></i>
              </div>
            </div>
          </div>
        </div>

      </div>
      <div ng-include="'static/partials/reusable/parameters-form.html'"></div>
    </div>

    <div ng-hide="showMonteCarlo" class="col-sm-10">
      <div class="form-group">
        <label for="dataSetInput">Data Set</label>
        <textarea ng-model="currentStep.dataSet" class="form-control" id="dataSetInput"
                  placeholder="Data Set"></textarea>
      </div>
      <div class="form-group">
        <label for="runLumiInput">Run Lumi</label>
        <textarea ng-model="currentStep.runLumi" class="form-control" id="runLumiInput"
                  placeholder="Run Lumi"></textarea>
      </div>
    </div>

    <div class="checkbox col-sm-4" data-toggle="tooltip" data-placement="top" data-delay="0"
         title="When you mark step as frozen you cannot edit it, only clone will be possible.">
      <label>
        <input type="checkbox" ng-model="currentStep.immutable"> Mark as frozen step
      </label>
    </div>

    <div id="step-buttons" class="col-sm-4 pull-right">
      <button ng-click="discard()" type="button" class="btn btn-danger">Discard</button>
      <button ng-click="saveStep()" type="button" class="btn btn-success">{{actionName}}</button>
    </div>

  </form>
</div>